"use strict";var fs=require("fs"),path=require("path"),io=require("./interface"),reWrite=require("./re-write"),getFilesInDirectory=function r(e,i){var t=fs.readdirSync(e);return i=i||[],t.forEach(function(t){fs.statSync(path.join(e,t)).isDirectory()?i=r(path.join(e,t),i):i.push(path.join(e,t))}),i},inflateInput=function(t){return t.map(function(t){return fs.lstatSync(t).isDirectory()?getFilesInDirectory(t):[t]}).reduce(function(t,r){return t.concat(r)},[])};module.exports.getInputAndOutputItems=function(t,r){var e=void 0,i=void 0,n=r.slice(0).pop(),o=fs.existsSync(n)&&fs.statSync(n).isDirectory();return r.length<4&&io.showError("ARG_COUNT_LESS"),i=t===reWrite.doIt?(e=inflateInput(r.slice(2,r.length-1)),o?path.join(n,"output-file.txt"):n):(4<r.length&&io.showError("ARG_COUNT_MORE"),fs.existsSync(r[2])&&fs.statSync(r[2]).isFile()&&o||io.showError("UNDO_ARGS"),e=r[2],n),[e,i]};